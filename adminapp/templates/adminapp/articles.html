{% extends 'adminapp/base.html' %}
{% load static %}

{% block css %}
<link href="{% static 'adminapp/css/admin_style.css' %}" rel="stylesheet">
{% endblock css %}

{% block content %}
<div class="container items-wrapper shadow-sm overflow-auto h-auto">
    {% for article in objects %}
        <div class="item-block shadow row {% if article.is_deleted %} is-deleted {% endif %}">
            <div class="col-sm-10 row">
                <div class="col-sm-1">{{ forloop.counter }}</div>
                <div class="col-sm-9"><span>{{ article.title }}</span></div>
                <div class="col-sm-2">
                    <a href="{% url 'article:detail' article.pk %}" target="_blank"
                       class="btn btn-outline-secondary">к статье</a>
                </div>
                <div class="w-100 d-none d-md-block"></div>
                <div class="w-100 d-none d-md-block"></div>
                <div class="col-sm-4"><span>Категория: {{ article.category }}</span></div>
                <div class="col-sm-3">
                    <span>
                        автор: <a href="{% url '_admin:user_update' article.author.pk %}" target="_blank"
                            style="color: dodgerblue" class="">{{ article.author }}</a>
                    </span>
                </div>
                <div class="col-sm-3"><span>статус: {{ article.get_status_display }}</span></div>
                <div class="col-sm-2"><span>active: {% if article.is_deleted %}нет{% else %}да{% endif %}</span></div>
            </div>
            <div class="col-sm-2 row-cols-2">
                {% if request.user.role == 'A' or request.user.is_superuser %}
                    <div class="col-sm-12 mar-b-5">
                        <a href="{% url '_admin:article_update' article.pk %}"
                            class="btn btn-outline-secondary btn-block align-items-start d-b">edit</a>
                    </div>
                {% endif %}
                <div class="col-sm-12">
                    <a href="{% url '_admin:article_delete' article.pk %}"
                       class="btn btn-outline-secondary btn-block align-items-end d-b">del</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% block footer %}
{% include 'mainapp/includes/inc_footer.html' %}
{% endblock footer %}
{% endblock content %}